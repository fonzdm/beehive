apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: netbird-dashboard
    namespace: netbird
spec:
    interval: 1h0m0s
    chart:
        spec:
            chart: netbird-dashboard
            sourceRef:
                kind: HelmRepository
                name: jaconi-helmrepo 
    values:
      auth:
        authority: ""
        audience: "netbird-dashboard"
        clientID: netbird-dashboard
        supportedScopes: openid profile email offline_access api
        userIDClaim: sub
      
      
      
      netbird:
        ## @param netbird.managementApiEndpoint
        managementApiEndpoint: https://management.netbird.service.fonzdm.xyz:443
      
        ## @param netbird.managementGrpcApiEndpoint
        managementGrpcApiEndpoint: https://grpc.management.netbird.service.fonzdm.xyz:443
      
        ## @param netbird.disableIPv6
        disableIPv6: true
      
      ingress:
        enabled: true
        className: "nginx"
        annotations:
          cert-manager.io/cluster-issuer: letsencrypt-cloudflare
      
        hosts:
          - host: dashboard.netbird.service.fonzdm.xyz
            paths:
              - path: /
                pathType: ImplementationSpecific
      
        tls:
        - secretName: dashboard-netbird-tls
          hosts:
            - dashboard.netbird.service.fonzdm.xyz
  


